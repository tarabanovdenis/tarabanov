@font-face
  font-family: 'Rubik'
  src: url('Rubik-Regular.eot')
  src: local('Rubik'), local('Rubik-Regular'),
          url('../fonts/Rubik-Regular.eot?#iefix') format('embedded-opentype'),
          url('../fonts/Rubik-Regular.woff2') format('woff2'),
          url('../fonts/Rubik-Regular.woff') format('woff'),
          url('../fonts/Rubik-Regular.ttf') format('truetype'),
          url('../fonts/Rubik-Regular.svg#Rubik-Regular') format('svg')
  font-weight: normal
  font-style: normal

@font-face
  font-family: 'Rubik Medium'
  src: url('Rubik-Medium.eot')
  src: local('Rubik Medium'), local('Rubik-Medium'),
          url('../fonts/Rubik-Medium.eot?#iefix') format('embedded-opentype'),
          url('../fonts/Rubik-Medium.woff2') format('woff2'),
          url('../fonts/Rubik-Medium.woff') format('woff'),
          url('../fonts/Rubik-Medium.ttf') format('truetype'),
          url('../fonts/Rubik-Medium.svg#Rubik-Medium') format('svg')
  font-weight: 500
  font-style: normal



@require 'lib/reset.styl'
@require 'lib/variables.styl'
@require 'lib/mixins.styl'

//stylus stylus/ -o css/ -w

html
  height: 100%

body
  font-family: $RubikR
  fontFix()
  font-size: 20px
  font-weight: 400

  text-align: left
  line-height: 1.5

  -webkit-overflow-scrolling: touch

  background: $color.bg
  color: $color.text


.page
  overflow: hidden

  padding-top: 226px

  transition: all $animationStep ease

//.hide_title .page
//  padding-top: 204px

.hide_title .page,
.page-view-search .page,
.pre-search .page,
.page-view-question .page
  padding-top: 164px

.page-view-chat .page
  padding-top: 94px


.js-vertical-align
  position: absolute
  top: 50%

  opacity: 0

  transition: top $animationStep ease, opacity $animationStep ease


// icons
iconClasses = 'arrow-left-color', 'arrow-top', 'arrow-bottom', 'close', 'close-color', 'chevron-right', 'bubble-headphones', 'bubble-list', 'bubble-text', 'attach', 'plus', 'plus-color', 'file', 'star', 'star-color', 'check'

for icon, i in iconClasses
  .ico-{iconClasses[i]}
    display: inline-block

    vertical-align: middle

    ico('../img/' + iconClasses[i] + '.svg')

.list__item .ico-chevron-right
  float: right

  margin: 4px 0 0 20px

.attach .ico-close-color
  visibility: hidden

  margin-left: 5px

.attach_fill .ico-close-color
  visibility: visible

.ico-plus,
.ico-plus-color
  margin-right: 6px

.ico-check
  opacity: 0

  height: 0

  transition: height $animationStep $bounce, opacity $animationStep $bounce

.quiz_done .ico-check
  opacity: 1

  height: image-size('../img/check.svg')[1]

.rating_selected .ico-star
  background: url(../img/star-color.svg) no-repeat



// close
.close
  position: relative

  float: right
  z-index: 1

  width: $linkSize
  height: @width

  text-align: center
  line-height: @width - 2

  background: $color.main
  border-radius: 50%


// connect
.connect-container
  font-size: 0

  opacity: 1
  visibility: visible

  padding: 13px 74px 13px 0

  transition: visibility  $animationStep $bounce, opacity $animationStep $bounce, transform $animationStep $bounce

  transform: translateY(0px)

.page-view-tickets .connect-container,
.page-view-chat .connect-container
  opacity: 0
  visibility: hidden

  transform: translateY(-20px)


.connect
  display: inline-block

  max-width: 100%

  cursor: pointer
  line-height: 1.2
  white-space: nowrap

  color: $color.main

.connect__inner
  font-size: 20px

  display: block
  overflow: hidden

  text-overflow: ellipsis


// counter
.counter
  font-family: $RubikM
  font-size: 16px

  display: inline-block

  height: 28px
  padding: 0 5px
  min-width: 18px

  text-align: center
  vertical-align: middle
  line-height: @height

  background: $color.linkBg
  border-radius: 9px
  color: inherit

.connect .counter
  float: right

  margin-left: 6px

.attach .counter
  font-size: 13px

  position: absolute
  top: -4px
  right: -6px

  visibility: hidden

  height: 18px
  padding: 0 3px
  min-width: 12px

  line-height: 18px

  background: #f72222
  color: #fff
  border: 2px solid #fff

.attach_fill .counter
  visibility: visible

.titles__sub .counter
  margin-left: 6px

  background: #d4e3e5

.dialogs__item .counter
  float: right

  margin-left: 5px

  color: $color.main


// header
.header
  position: fixed
  top: 0
  right: 0
  left: 0

  opacity: 0
  z-index: 5

  padding: 20px

  user-select(none)

  background: $color.subBg

  transform: translateY(-40px)

  transition: all ($animationStep * 2) $bounce ($animationStep * 6)

.header:before
  position: absolute
  bottom: 100%
  right: 0
  left: 0

  height: 30px

  content: ''

  background: inherit

.preload_off .header
  opacity: 1

  transform: translateY(0)

.page-view-chat .header
  padding: 20px 15px

.header__top
  overflow: hidden

  padding-bottom: 7px

.header__bar
  padding-top: 7px

.page-view-chat .header__bar
  margin-right: 64px
  margin-top: -67px

.header__middle
  position: relative

  overflow: hidden
  opacity: 1
  //visibility: visible

  height: 62px

  transform: translateY(0px)

  transition: all $animationStep ease

.hide_title .header__middle,
.page-view-search .header__middle,
.pre-search .header__middle,
.page-view-question .header__middle,
.page-view-chat .header__middle
  opacity: 0
  //visibility: hidden

  height: 0

  transform: translateY(-20px)


// main-icon
.main-icon
  position: relative

  float: right

  width: 67px
  height: 52px
  margin-top: 5px

  transition: height $animationStep $bounce, opacity $animationStep $bounce

.quiz_done .main-icon
  opacity: 0

  height: 0

.dialog-box .main-icon,
.view-form .main-icon,
.quiz .main-icon
  float: none

  margin: 0 auto 10px

.dialog-box .main-icon
  width: image-size('../img/bubble_empty.svg')[0] + 1
  height: image-size('../img/bubble_empty.svg')[1]
  margin-bottom: 6px

.main-icon__static
  position: absolute
  top: 0
  left: 0

  z-index: 2

  width: image-size('../img/bubble.svg')[0]
  height: image-size('../img/bubble.svg')[1]

  background: url(../img/bubble.svg) no-repeat

.main-icon__holder
  position: absolute
  top: 7px
  left: 20px

  overflow: hidden
  z-index: 1

  width: image-size('../img/bubble_empty.svg')[0] + 1
  height: image-size('../img/bubble_empty.svg')[1]

  background: url(../img/bubble_empty.svg) no-repeat

.dialog-box .main-icon__holder
  top: 0
  left: 0

.main-icon__set
  position: relative
  top: 0

  width: 100%
  height: 100%

  transition: top $animationStep ease

.page-view-categories .header .main-icon__set,
.dialog-box_confirm  .main-icon__set
  top: -100%

.page-view-form .view-form .main-icon__set,
.page-view-tickets .header .main-icon__set
  top: -200%

.main-icon__item
  width: 100%
  height: 100%

  line-height: image-size('../img/bubble_empty.svg')[1]
  text-align: center


// search
.search
  position: relative

  display: block

  padding: 0 61px 0 10px

  background: $color.bg
  border-radius: 6px

.search__area
  font-family: $RubikR
  font-size: 16px
  fontFix()

  position: relative

  z-index: 1

  padding: 0
  margin: 0
  width: 100%
  height: $linkSize

  vertical-align: top

  background: $color.bg
  border: none
  outline: none

  placeholder($color.subText)

.search__ico
  position: absolute
  top: 15px
  right: 20px

  z-index: 2

  ico('../img/search.svg')


// back
.back
  float: left
  visibility: hidden
  opacity: 0

  width: $linkSize
  height: @width
  margin-right: mr = 10px
  margin-left: -($linkSize + mr)

  text-align: center
  line-height: @width - 2

  border-radius: 50%
  background: $color.linkBg

  transition: $animationStep opacity $bounce, $animationStep visibility $bounce, $animationStep margin $bounce

.view-overlay .back
  background: $color.linkBgDarken

.back_on .back,
.page-view-search .back,
.page-view-categories .back,
.page-view-question .back,
.page-view-overlay .back,
.page-view-form .back,
.page-view-tickets .back,
.page-view-chat .back
  opacity: 1
  visibility: visible

  margin-left: 0


// spinner
.spinner
  position: absolute
  top: 40%
  left: 0
  right: 0

  opacity: 1
  visibility: visible
  z-index: 2

  margin: 0 auto 0

  ico('../img/spinner.svg')

  transition: opacity $animationStep ease, visibility $animationStep ease
  animation: spinner 1.2s cubic-bezier(0.880, 0.365, 0.160, 0.620) infinite

.spinner_local
  position: fixed

  opacity: 0
  visibility: hidden

.loading .spinner_local
  opacity: 1
  visibility: visible

.preload_off .preload .spinner
  opacity: 0
  visibility: hidden

  animation-play-state: paused

@keyframes spinner
  0%
    transform: rotate(0deg)
  100%
    transform: rotate(360deg)


// preload
.preload
  position: fixed
  top: 0
  right: 0
  bottom: 0
  left: 0

  opacity: 1
  z-index: 10

  background: $color.subBg

  transition: opacity $animationStep ease ($animationStep * 6), visibility $animationStep ease ($animationStep * 6)

.preload_off .preload
  opacity: 0
  visibility: hidden


// titles
.titles
  font-size: 0

  position: relative
  top: 0

  height: 100%

  transition: top $animationStep ease

.titles-container
  overflow: hidden

  height: 100%

.dialog-box .titles-container
  height: 26px

.quiz .titles-container
  height: 80px

  text-align: center

.dialog-box .button .titles-container
  height: $linkSize
  margin: 0 -10px

.page-view-categories .header .titles,
.dialog-box_confirm  .titles,
.quiz_done .titles
  top: -100%

.page-view-tickets  .titles
  top: -200%

.header .titles
  padding-right: 20px

.titles__item
  line-height: 1.4

.view-form .titles__item,
.quiz .titles__item
  text-align: center

.article .titles__item
  margin-bottom: 13px

.titles .titles__item
  height: 100%

.preload .titles__item
  position: absolute
  top: 40%
  right: 0
  left: 0

  padding-top: 80px
  margin-top: 0

  text-align: center

  transition: margin $animationStep $bounce ($animationStep * 2), opacity $animationStep ease ($animationStep * 5), transform $animationStep ease ($animationStep * 5)

  transform-origin: 50% 70%

.preload_off .preload .titles__item
  opacity: 0

  margin-top: -($animationSize)

  transform: scale(1.3)

.titles__sub
  font-size: 20px

  overflow: hidden

  margin-bottom: -1px

  white-space: nowrap
  text-overflow: ellipsis

  color: $color.subText

.context-box__item .titles__sub
  font-size: 16px

.titles__title
  font-family: $RubikM
  font-size: 26px

  overflow: hidden

  white-space: nowrap
  text-overflow: ellipsis

.dialog-box .titles__title,
.quiz .titles__sub
  font-size: 18px

.context-box__item .titles__title,
.quiz .titles__title
  font-size: 21px

.dialog-box .button .titles__title
  font-family: inherit
  font-size: 20px

  line-height: $linkSize - 2

  color: inherit

.article .titles__title
  font-size: 33px

  line-height: 1.2
  white-space: normal

.quiz .titles__sub,
.quiz .titles__title
  overflow: visible

  white-space: normal


// content
.content
  position: relative

  opacity: 0

  transform: translateY(40px)

  transition: all ($animationStep * 2) $bounce ($animationStep * 6)

.preload_off .content
  opacity: 1

  transform: translateY(0)


// list
.list
  outline: none

.list__item
  display: block

  padding: 14px 0 15px 0

  text-decoration: none
  line-height: 1.2

  border-bottom: 1px solid lighten($color.subText, 75%)
  color: $color.text
  outline: none

.list_categories .list__item
  font-family: $RubikM


// highlight
.highlight
  font-family: $RubikM


// view
.view
  position: relative

  opacity: 0
  visibility: hidden
  overflow: hidden
  z-index: 1

  height: 0

  transform: translateY(60px)
  transition: opacity $animationStep $bounce 0s, visibility $animationStep $bounce 0s, transform $animationStep $bounce 0s, height $animationStep $bounce 0s

.view-form
  transition: opacity ($animationStep * 2) $bounce 0s, visibility ($animationStep * 2) $bounce 0s, transform ($animationStep * 2) $bounce 0s, height ($animationStep * 2) $bounce 0s !important
  //transition: opacity $animationStep $bounce 0.2s, visibility $animationStep $bounce 0.2s, transform $animationStep $bounce 0.2s, height $animationStep $bounce 0.2s

.view__content
  padding: 20px

.view-form .view__content
  position: relative

  min-height: 100%
  box-sizing: border-box

.loading .content .view
  opacity: 0
  visibility: hidden

.view_open
  opacity: 1
  visibility: visible

  height: 100%

  transform: translateY(0)

  transition: opacity $animationStep $bounce 0.2s, visibility $animationStep $bounce 0.2s, transform $animationStep $bounce 0.2s, height $animationStep $bounce 0.2s

.view__label
  font-size: 16px

  margin-bottom: 14px

  color: $color.subText

.view-form
  position: fixed
  top: 0
  right: 0
  bottom: 0
  left: 0

  overflow: auto
  z-index: 10

  background: $color.subBg

.view-form__head
  overflow: hidden

  //margin-bottom: 24px

.view-form__welcome
  margin-bottom: 11px

.open_form .view-form__welcome
  //top: 98px
  position: relative
  top: 0 !important

.view-chat
  position: fixed
  top: 95px
  right: 0
  bottom: 0
  left: 0

  height: auto


// article
.article
  font-size: 18px

  padding-bottom: 18px

.article p
  margin-bottom: 9px


// slider
.slider
  overflow: hidden

  margin: 0 -20px 13px -20px

  user-select(none)

.view-overlay .slider
  margin: 0

.slider__view
  overflow: scroll

  width: 100%
  margin-bottom: 10px

.view-overlay .slider__view
  margin: 0

.slider__list
  font-size: 0

  position: relative
  left: 0

  width: 100%

  white-space: nowrap

  transition: left $animationStep ease

.slider__item
  display: inline-block

  width: 100%

  vertical-align: top

.slider__item img
  width: 100%
  height: auto

  vertical-align: top

.slider__footer
  font-size: 0

  overflow: hidden

  text-align: center

.view-overlay .slider__footer
  position: fixed
  right: 20px
  bottom: 20px
  left: 20px

.slider__dot
  display: inline-block

  width: 10px
  height: @width
  margin-left: 5px

  vertical-align: middle

  background: $color.subBg
  border-radius: 50%

.slider__dot:first-child
  margin-left: 0

.slider__dot.active
  background: $color.main


// overlay
.view-overlay
  position: fixed
  top: 0
  right: 0
  bottom: 0
  left: 0

  //opacity: 0
  //visibility: hidden
  z-index: 10

  background: #000
  color: #fff

  //transform: scale(1.5)
  //
  //transition: all $animationStep $bounce

.overlay__head
  position: fixed
  top: 20px
  right: 20px
  left: 20px
  overflow: hidden

  text-align: right
  line-height: $linkSize

.overlay__counter
  display: inline-block

.overlay__body
  position: fixed
  top: $linkSize + 40px
  right: 0
  bottom: 50px
  left: 0

  overflow: hidden


// buttons
.buttons
  font-size: 0

.buttons__item
  margin-top: 10px

.buttons__item:first-child
  margin-top: 0

.view-form .buttons
  position: fixed
  right: 20px
  bottom: 20px
  left: 20px

.view-form.open_form .buttons
  position: relative
  right: 0
  bottom: 0
  left: 0

.buttons_inline
  margin: 0 -10px

  white-space: nowrap

.dialog-box .buttons_inline
  padding-top: 15px

.buttons_inline .buttons__item
  display: inline-block

  width: 49%
  margin: 0

  vertical-align: top

.dialog-box .buttons_inline .buttons__item
  display: block
  overflow: hidden

  transition: width $animationStep $bounce

.dialog-box_confirm .buttons_inline .buttons__item
  width: 78%

.dialog-box .buttons_inline .buttons__item:first-child
  float: right

.dialog-box_confirm .buttons_inline .buttons__item:first-child
  width: 21%

.quiz .buttons
  overflow: hidden

  margin-left: 10px
  margin-right: 10px

.quiz_done .buttons
  visibility: hidden
  height: 0


// button
.button,
.button:link,
.button:visited
  fontFix()
  font-family: $RubikR
  font-size: 20px

  position: relative

  display: inline-block

  margin: 0
  padding: 0 20px
  height: $linkSize

  cursor: pointer
  text-align: center
  text-decoration: none
  line-height: $linkSize
  user-select(none)
  white-space: nowrap

  background: $color.main
  border: none
  border-radius: 27px
  color: #fff
  outline: none

.buttons .button,
.buttons .button:link,
.buttons .button:visited,
.context-box__item .button,
.context-box__item .button:link,
.context-box__item .button:visited
  display: block

  width: auto

.buttons_inline .button,
.buttons_inline .button:link,
.buttons_inline .button:visited
  margin: 0 10px

.button_lower,
.button_lower:link,
.button_lower:visited
  background: $color.linkBg
  color: $color.main


// form
.form
  opacity: 0
  overflow: hidden
  visibility: hidden

  height: 0

  transition: all $animationStep $bounce

.open_form .form
  opacity: 1
  visibility: visible

  height: 100%

.form-container
  position: absolute
  top: 40%
  right: 20px
  left: 20px

  display: block

  padding-bottom: 5%

  transition: top $animationStep ease

.open_form .form-container
  top: 10%

.form__item
  opacity: 1
  visibility: visible
  overflow: hidden

  margin-bottom: 10px

.form__item:last-child
  margin-bottom: 20px

.form__error
  font-size: 14px

  position: relative

  padding: 3px 11px
  margin-top: 5px

  color: #ef1818
  background: #fbe3e3
  border-radius: 5px

.form__error:before
  position: absolute
  top: -9px
  right: 10px

  content: ''

  border: 10px solid transparent
  border-top: 0
  border-bottom-color: #fbe3e3

.form__item_hidden
  opacity: 0
  visibility: hidden
  overflow: hidden

  margin: 0
  min-height: 0
  max-height: 0

  transition: all $animationStep ease


// input
.input
  position: relative

  display: block
  overflow: hidden

  padding: 5px 10px
  min-height: 60px

  background: $color.bg
  border-radius: 3px

.input select
  position: absolute
  top: 0
  right: 0
  bottom: 0
  left: 0

  z-index: 2
  opacity: 0

  width: 100%
  height: 100%

.input__area
  font-family: $RubikR
  font-size: 20px
  fontFix()

  position: relative

  overflow: hidden
  z-index: 1

  padding: 19px 0 0 0
  margin: 0
  width: 100%
  height: 41px

  vertical-align: top
  line-height: 2.1
  white-space: nowrap

  background: $color.bg
  border: none
  outline: none
  color: $color.text

textarea.input__area,
.input__mirror
  min-height: 80px
  padding-top: 28px
  resize: none

  line-height: 1.5
  white-space: normal

.input__mirror
  position: absolute
  top: 0
  right: 0
  left: 0

  visibility: hidden
  z-index: -5

  padding: 5px 10px

  white-space: pre-wrap

span.input__area
  display: inline-block

.input__label
  font-size: 20px

  position: absolute
  top: 20px
  left: 10px

  z-index: 2

  color: $color.subText

  transition: all $animationStep ease

.input_select .input__label,
.input_select .input__area
  pointer-events: none

textarea.input__area + .input__label
  top: 9px


.input__area:focus + .input__label,
.input__area_filled + .input__label
  font-size: 14px

  top: 11px

  color: $color.subText


// attach
.attach
  position: relative

  display: inline-block

  word-break: break-all
  word-wrap: break-word

  color: $color.main

.attach__ico
  display: inline-block

  width: 36px
  height: @width
  margin-right: 9px

  text-align: center
  line-height: @width - 3

  vertical-align: middle

  background: $color.linkBg
  border-radius: 50%

.chat-input .attach__ico
  margin-right: 0

.attach input
  position: absolute
  top: 0
  left: 0

  visibility: hidden
  z-index: -5


// dialog-box
.dialog-box
  margin: 0 -20px -20px
  padding: 26px 20px 20px

  background: $color.subBg


// context-box
.context-box
  overflow: hidden

  height: $linkSize
  padding-top: 7px
  margin-top: -7px

.context-box__list
  position: relative
  top: 0

  height: 100%

  transition: top $animationStep $bounce $animationStep

.context-box__item
  opacity: 1

  height: 100%

  transition: opacity $animationStep $bounce $animationStep

.page-view-tickets .context-box__list
  top: -100%

.page-view-chat .context-box__list
  top: -200%

.page-view-tickets .context-box__item:first-child,
.page-view-chat .context-box__item:first-child + .context-box__item
  opacity: 0

  visibility: hidden


// dialogs
.dialogs
  outline: none

.dialogs__item
  fontFix()

  padding: 17px 20px 16px 20px

  line-height: 1.4

  border-bottom: 1px solid lighten($color.subText, 75%)

.dialogs__num
  font-size: 16px

  margin-bottom: 4px

  color: $color.subText

.dialogs__topic
  font-family: $RubikM
  font-size: 20px

  margin-bottom: 2px

.dialogs__preview
  font-size: 18px

.dialogs__date
  float: right

  margin-left: 5px

  color: $color.subText


// chat
.chat
  position: absolute
  top: 0
  right: 0
  bottom: 0
  left: 0

  overflow: hidden

.chat__body
  position: absolute
  top: 0
  right: 6px
  bottom: 56px
  left: 6px

  overflow: auto

  padding: 12px 0

.chat__footer
  position: fixed
  right: 0
  bottom: 0
  left: 0

  border-top: 1px solid lighten($color.subText, 75%)

.chat__item
  position: relative

  overflow: hidden

  margin-bottom: 11px
  padding-left: 47px

.chat__item_my
  padding-left: 0
  padding-right: 47px

  text-align: right

.chat__ava
  position: absolute
  bottom: 0
  left: 0
  overflow: hidden

  width: 40px
  height: @width

  text-align: center
  line-height: @width

  border-radius: 50%

.chat__item_my .chat__ava
  left: auto
  right: 0

.chat__ava img
  width: 100%
  height: auto

  vertical-align: top

  border-radius: 50%

.chat__content
  display: inline-block
  overflow: hidden

  width: 96%

  vertical-align: top
  text-align: left

.chat__bubble
  font-size: 16px

  padding: 10px 13px 12px

  line-height: 1.4

  background: $color.msgBg
  border-radius: 10px 10px 10px 2px

.chat__bubble_file
  background: $color.msgBgFile
  color: $color.msgColorFile

.chat__bubble + .chat__bubble
  margin-top: 2px

.chat__messages-set .chat__bubble
  border-radius: 2px

.chat__messages-set .chat__bubble:first-child
  border-radius: 10px 10px 2px 2px

.chat__messages-set .chat__bubble:last-child
  border-radius: 2px 2px 10px 2px

.chat__item_my .chat__bubble
  background: $color.msgBgMy
  border-radius: 10px 10px 2px 10px

.chat__item_my .chat__messages-set .chat__bubble
  border-radius: 2px !important

.chat__item_my .chat__messages-set .chat__bubble:first-child
  border-radius: 10px 10px 2px 2px !important

.chat__item_my .chat__messages-set .chat__bubble:last-child
  border-radius: 2px 2px 2px 10px !important

.chat__head
  overflow: hidden

  padding-bottom: 2px

.chat__name
  font-family: $RubikM
  font-size: 13px

.chat__date
  font-size: 13px

  float: right

  color: $color.subText

.chat__sep
  position: relative

  overflow: hidden

  text-align: center

.chat__sep:after
  position: absolute
  top: 17px
  right: 0
  left: 0

  z-index: 1

  height: 1px

  content: ''

  background: lighten($color.subText, 75%)

.chat__sep-substrate
  font-size: 13px

  position: relative

  display: inline-block
  z-index: 2

  padding: 0 5px

  background: $color.bg
  border-radius: 2px
  color: $color.subText

.chat__pic
  overflow: hidden

  margin: -10px -13px -12px

  border-radius: inherit

.chat__pic img
  width: 100%
  height: auto

  vertical-align: top


// chat-input
.chat-input
  overflow: hidden

  padding: 10px 20px

.chat-input__view
  position: relative

  overflow: hidden

.chat-input__controls
  font-size: 0

  float: right

  padding-left: 10px
  white-space: nowrap

.chat-input__area,
.chat-input__mirror
  font-family: $RubikR
  font-size: 16px
  fontFix()

  position: relative

  overflow: auto
  z-index: 1

  padding: 5px 0 0
  margin: 0
  width: 100%
  min-height: 31px
  height: 31px
  max-height: 200px
  resize: none

  vertical-align: top
  line-height: 1.4
  white-space: normal

  background: $color.bg
  border: none
  outline: none
  color: $color.text

  placeholder($color.subText)

.chat-input__mirror
  position: absolute
  top: 0
  right: 0
  left: 0

  visibility: hidden
  z-index: -5

  height: auto

  white-space: pre-wrap


// send
.send
  display: inline-block
  visibility: hidden
  opacity: 0

  width: 36px
  height: @width
  margin-left: 7px
  margin-right: -(@width + 7)

  text-align: center
  line-height: @width - 3

  vertical-align: middle

  background: $color.main
  border-radius: 50%

  transition: $animationStep opacity $bounce, $animationStep visibility $bounce, $animationStep margin $bounce

.chat-input_ready .send
  opacity: 1
  visibility: visible

  margin-right: 0




// message-file
.message-file
  overflow: hidden

  line-height: 1.4

.message-file__side
  float: left

  margin-top: 4px

.message-file__content
  overflow: hidden

  padding-left: 12px

.message-file__tit
  font-size: 16px

  color: $color.msgColorFile

.message-file__size
  font-size: 13px

  color: lighten($color.msgColorFile, 50%)


// download
.download
  width: 40px
  height: @width

  cursor: pointer
  line-height: @width
  text-align: center

  background: $color.main
  border-radius: 50%

.chat__bubble .download
  float: right


// quiz
.quiz
  margin: 0 7px
  padding-bottom: 20px

  text-align: center

.quiz__inner
  padding: 27px 20px
  margin: 20px 10px 10px 10px

  background: $color.subBg
  border-radius: 3px

  transition: padding $animationStep ease

.quiz_done .quiz__inner
  padding-top: 57px
  padding-bottom: 0

.quiz__comment
  opacity: 0
  visibility: hidden
  overflow: hidden

  margin: 0 -10px -17px !important
  min-height: 0
  max-height: 0

  transition: all $animationStep ease


// rating
.rating
  font-size: 0

  display: inline-block

  padding: 9px 12px 12px 12px
  margin: 20px 0 15px 0

  vertical-align: top
  white-space: nowrap

  background: $color.bg
  border-radius: 27px

.rating-container
  overflow: hidden
  visibility: visible

  height: 85px

  transition: height $animationStep $bounce, opacity $animationStep $bounce, visibility  $animationStep $bounce

.quiz_done .rating-container
  visibility: hidden

  height: 0

.rating__item
  display: inline-block

  padding: 0 5px

  vertical-align: middle


// pseudo-link
.pseudo-link
  display: inline-block

  margin-top: 0
  height: 30px

  user-select(none)

  color: $color.main

  transition: opacity $animationStep $bounce, visibility  $animationStep $bounce, height  $animationStep $bounce

.quiz_done .pseudo-link
  opacity: 0
  visibility: hidden

  height: 0


// helpers
.js-show
  opacity: 1
  overflow: visible
  visibility: visible

  min-height: 70px
  max-height: 120px
  margin-bottom: 10px

.quiz__comment.js-show
  max-height: 1000px
  margin-bottom: 0


//@media only screen and (max-height: 770px)
//@media only screen and (min-device-width: 375px) and (max-device-width: 667px)
@media only screen and (max-device-height: 500px)
  .page
    padding-top: 53px !important

  .close
    width: 40px
    height: @width

    line-height: @width - 2

  .header__middle
    display: none !important

  .connect__inner
    font-size: 18px

  .counter
    height: 23px
    min-width: 13px

    line-height: @height

  .connect .counter
    font-size: 13px